<!DOCTYPE html>
<html>

<head>

  <meta charset="UTF-8">
	
  <title>儿童节快乐</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="css/reset.css">

    <link rel="stylesheet" href="css/style.css" media="screen" type="text/css" />

</head>

<body>

<div style="margin:20px 20px 40px;text-align: center;">
  <h1 style="font-size:32px;color:#00FF00;">儿童节快乐</h1>
  <p style="color:#FFFFFF;">Sugar Baby</p>
</div>
<div style="width:100%;height:45%;">
	<div id="divVideo" src="http://7s1rwr.com1.z0.glb.clouddn.com/qianshiqingren_jay.mp4" style="width:100%;height:100%;"></div> 
</div>

<input type="hidden" name="divideosrc" id="divideosrc" poster="http://7s1rwr.com1.z0.glb.clouddn.com/qianshiqingren_jay.png" value="http://7s1rwr.com1.z0.glb.clouddn.com/qianshiqingren_jay.mp4" />

<script type="text/javascript" > 
	//mp4是ios、android普遍支持的格式
	function playVideo(opt) {
		if (typeof (opt) == "undefined") {
			alert("请传入必要参数！");
			return;
		}
		if (typeof (opt.elemt) == "undefined") {
			alert("请指定播放器要插入的对象！");
			return;
		}
		if (typeof (opt.src) == "undefined") {
			alert("请指定要播放视频的路径！");
			return;
		}
		var _this = this;
		_this.elemt = opt.elemt; //播放器要插入的对象
		_this.src = opt.src; //视频的URL(必设)
		_this.width = opt.width > 0 ? opt.width + "px" : "100%"; //宽度(默认100%)
		_this.height = opt.height > 0 ? opt.height + "px" : "100%"; //高度(默认100%)
		_this.autoplay = opt.autoplay == "true" ? "autoplay" : ""; //自动播放（true为自动播放）
		_this.poster = opt.poster; //视频封面，播放时的封面图片
		_this.preload = opt.preload == "true" ? "preload" : ""; //预加载(true时启动加载)
		_this.loop = opt.loop == "true" ? "loop" : ""; //循环播放(true时循环播放)
		var str = "<video id='playVideo' controls "; //根据设置的属性的值，拼写video控件
		str += " width='" + _this.width + "' height='" + _this.height + "' " + _this.autoplay + " " + _this.preload + " " + _this.loop + " ";
		if (typeof (_this.poster) != "undefined") {
			str += " poster='" + _this.poster + "' >";
		} else {
			str += " > ";
		}
		str += " <source src='" + _this.src + "' />";
		str += "</video>";
		this.elemt.innerHTML = str; //将str放到要插入的对象中
	}
	
	var videosrc = document.getElementById("divideosrc").value;
	var videoposter = document.getElementById("divideosrc").getAttribute("poster");
	//var videosrc = "http://vf1.mtime.cn/Video/2014/12/08/mp4/141208091803611440.mp4";
	playVideo({
		//所有参数，elemt和src为必填其他看需求怎么要求
		//elemt为播放控件要插入的容器，src为视频文件地址，preload为预加载，autoplay是否页面进入就自动播放
		//poster为播放前的遮照图片，loop为是否循环播放，width和heigth默认100%
		elemt: document.getElementById("divVideo"),
		src: videosrc,
		preload: "true",
		autoplay: "false",
		poster: videoposter,
		loop: "false",
		width: "100%",
		heigth:"100%"
	});
	
</script> 

</body>

</html>